{"ast":null,"code":"var _jsxFileName = \"/home/erico/Unb/rocketseat/ignite/cap2/eb-money/src/TransactionsContext.tsx\",\n    _s = $RefreshSig$();\n\nimport { createContext, useContext, useEffect, useState } from 'react';\nimport { api } from './services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const TransactionContext = /*#__PURE__*/createContext({});\nexport function TransacionsProvider({\n  children\n}) {\n  _s();\n\n  const data = useContext(TransactionContext);\n  const [transactions, setTransactions] = useState([]);\n  useEffect(() => {\n    api.get('/transactions').then(response => setTransactions(response.data.transactions));\n  }, []);\n\n  function createTransaction(transaction) {\n    api.post('/transactions', transaction);\n  }\n\n  return /*#__PURE__*/_jsxDEV(TransactionContext.Provider, {\n    value: {\n      transactions,\n      createTransaction\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 9\n  }, this);\n}\n\n_s(TransacionsProvider, \"fobnj71I+ylhmeKGXjcYEZkdnG4=\");\n\n_c = TransacionsProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"TransacionsProvider\");","map":{"version":3,"sources":["/home/erico/Unb/rocketseat/ignite/cap2/eb-money/src/TransactionsContext.tsx"],"names":["createContext","useContext","useEffect","useState","api","TransactionContext","TransacionsProvider","children","data","transactions","setTransactions","get","then","response","createTransaction","transaction","post"],"mappings":";;;AAAA,SAASA,aAAT,EAAwBC,UAAxB,EAAoCC,SAApC,EAA+CC,QAA/C,QAA0E,OAA1E;AACA,SAASC,GAAT,QAAoB,gBAApB;;AAwBA,OAAO,MAAMC,kBAAkB,gBAAGL,aAAa,CAA0B,EAA1B,CAAxC;AAEP,OAAO,SAASM,mBAAT,CAA6B;AAACC,EAAAA;AAAD,CAA7B,EAAmE;AAAA;;AACtE,QAAMC,IAAI,GAAGP,UAAU,CAACI,kBAAD,CAAvB;AAEA,QAAK,CAACI,YAAD,EAAeC,eAAf,IAAkCP,QAAQ,CAAgB,EAAhB,CAA/C;AAEAD,EAAAA,SAAS,CAAC,MAAI;AACVE,IAAAA,GAAG,CAACO,GAAJ,CAAQ,eAAR,EACKC,IADL,CACUC,QAAQ,IAAEH,eAAe,CAACG,QAAQ,CAACL,IAAT,CAAcC,YAAf,CADnC;AAEH,GAHQ,EAGP,EAHO,CAAT;;AAKA,WAASK,iBAAT,CAA2BC,WAA3B,EAAyD;AACnDX,IAAAA,GAAG,CAACY,IAAJ,CAAS,eAAT,EAA0BD,WAA1B;AACL;;AAED,sBACI,QAAC,kBAAD,CAAoB,QAApB;AAA6B,IAAA,KAAK,EAAE;AAAEN,MAAAA,YAAF;AAAgBK,MAAAA;AAAhB,KAApC;AAAA,cACKP;AADL;AAAA;AAAA;AAAA;AAAA,UADJ;AAKH;;GAnBeD,mB;;KAAAA,mB","sourcesContent":["import { createContext, useContext, useEffect, useState, ReactNode } from 'react'\nimport { api } from './services/api';\n\n\n\ninterface Transaction{\n    id: number;\n    title: string;\n    amount: number;\n    type: string;\n    category:string;\n    createdAt: string;\n}\n\ntype TransactionInput = Omit<Transaction, 'id'| 'createdAt'>;\n\ninterface TransactionsProviderProps{\n    children: ReactNode;\n}\n\ninterface TranscationsContextData{\n    transactions: Transaction[];\n    createTransaction: (transaction: TransactionInput) => void;\n}\n\nexport const TransactionContext = createContext<TranscationsContextData>({} as TranscationsContextData);\n\nexport function TransacionsProvider({children}: TransactionsProviderProps){\n    const data = useContext(TransactionContext);\n\n    const[transactions, setTransactions] = useState<Transaction[]>([]);\n\n    useEffect(()=>{\n        api.get('/transactions')\n            .then(response=>setTransactions(response.data.transactions))\n    },[]);\n\n    function createTransaction(transaction: TransactionInput){\n          api.post('/transactions', transaction)\n    }\n\n    return (\n        <TransactionContext.Provider value={{ transactions, createTransaction }}>\n            {children}\n        </TransactionContext.Provider>\n    ); \n}"]},"metadata":{},"sourceType":"module"}